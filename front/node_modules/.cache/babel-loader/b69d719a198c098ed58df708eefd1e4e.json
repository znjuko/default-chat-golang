{"ast":null,"code":"var _jsxFileName = \"/home/znjuko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/rk2/bmstu_front/default-chat-golang/front/src/mixins/addEmojie.js\";\nimport React from 'react';\nimport { Form, FormGroup, FormInput, Modal, ModalBody, ModalHeader, Button } from 'shards-react';\nimport API from '../utils/API';\nimport Error from '../mixins/error';\nexport default class AddEmojie extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault(); // get our form data out of state\n\n      const {\n        url,\n        phrase\n      } = this.state;\n\n      if (url.length === 0 || phrase.length === 0) {\n        this.setState({\n          errText: '–ù–∞–¥–æ –≤—Å–µ –∑–∞–ø–æ–ª–Ω–∏—Ç—å... üò°'\n        });\n        this.setState({\n          err: this.state.errText\n        });\n      } else {\n        try {\n          await API.post('/emoji', {\n            url,\n            phrase\n          });\n          this.props.closeAddSticker();\n          const {\n            history\n          } = this.props;\n          history.push(`/login`);\n          history.push(`/chats/${this.props.chatId}`);\n        } catch (error) {\n          console.log('[DEBUG]: –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ /login');\n          console.log(error.response);\n          this.setState({\n            err: this.state.errText\n          });\n        }\n      }\n    };\n\n    this.state = {\n      url: '',\n      phrase: '',\n      err: '',\n      errText: '–£–ø—Å... –°—Ç–∏–∫–µ—Ä —Å —Ç–∞–∫–∏–º –∫–æ–¥–æ–≤—ã–º —Å–ª–æ–≤–æ–º —É–∂–µ –µ—Å—Ç—å('\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      open: this.props.open,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100 d-flex justify-content-between align-items-center border-bottom border-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      className: \" border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0442\\u0438\\u043A\\u0435\\u0440\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        this.props.closeAddSticker();\n      },\n      activeClassName: \"active\",\n      className: \"d-inline-flex btn btn-outline-info btn-pill mr-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \" d-inline-flex fas fa-times-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 8\n      }\n    }))), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(FormInput, {\n      className: \"mb-4\",\n      id: \"url\",\n      placeholder: \"\\u0412\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 url \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",\n      name: \"url\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(FormInput, {\n      id: \"phrase\",\n      name: \"phrase\",\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u043E\\u0434\\u043E\\u0432\\u043E\\u0435 \\u0441\\u043B\\u043E\\u0432\\u043E\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Error, {\n      err: this.state.errText,\n      className: `text-danger text-center mt-2 ${this.errorHidClass(this.state.err)}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      className: \"mt-1 w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, \"\\uD83E\\uDD29 \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\uD83E\\uDD29\"))))));\n  }\n\n  errorHidClass(error) {\n    return error.length === 0 ? 'invisible' : 'visible';\n  }\n\n}\n/*\n */","map":{"version":3,"sources":["/home/znjuko/–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª/rk2/bmstu_front/default-chat-golang/front/src/mixins/addEmojie.js"],"names":["React","Form","FormGroup","FormInput","Modal","ModalBody","ModalHeader","Button","API","Error","AddEmojie","Component","constructor","props","onChange","e","setState","target","name","value","handleSubmit","preventDefault","url","phrase","state","length","errText","err","post","closeAddSticker","history","push","chatId","error","console","log","response","render","open","errorHidClass"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n\tForm,\n\tFormGroup,\n\tFormInput,\n\tModal,\n\tModalBody,\n\tModalHeader,\n\tButton,\n} from 'shards-react';\n\nimport API from '../utils/API';\n\nimport Error from '../mixins/error';\n\nexport default class AddEmojie extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\turl: '',\n\t\t\tphrase: '',\n\t\t\terr: '',\n\t\t\terrText: '–£–ø—Å... –°—Ç–∏–∫–µ—Ä —Å —Ç–∞–∫–∏–º –∫–æ–¥–æ–≤—ã–º —Å–ª–æ–≤–æ–º —É–∂–µ –µ—Å—Ç—å(',\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Modal open={this.props.open}>\n\t\t\t\t\t<div className='w-100 d-flex justify-content-between align-items-center border-bottom border-white'>\n\t\t\t\t\t\t<ModalHeader className=' border-0'>\n\t\t\t\t\t\t\t–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–∫–µ—Ä\n\t\t\t\t\t\t</ModalHeader>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.closeAddSticker();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\tclassName='d-inline-flex btn btn-outline-info btn-pill mr-4'>\n\t\t\t\t\t\t\t<i className=' d-inline-flex fas fa-times-circle'></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ModalBody>\n\t\t\t\t\t\t<Form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\tclassName='mb-4'\n\t\t\t\t\t\t\t\t\tid='url'\n\t\t\t\t\t\t\t\t\tplaceholder='–í—Å—Ç–∞–≤—å—Ç–µ url –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É'\n\t\t\t\t\t\t\t\t\tname='url'\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\tid='phrase'\n\t\t\t\t\t\t\t\t\tname='phrase'\n\t\t\t\t\t\t\t\t\tplaceholder='–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ'\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Error\n\t\t\t\t\t\t\t\t\terr={this.state.errText}\n\t\t\t\t\t\t\t\t\tclassName={`text-danger text-center mt-2 ${this.errorHidClass(\n\t\t\t\t\t\t\t\t\t\tthis.state.err,\n\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button type='submit' className='mt-1 w-100'>\n\t\t\t\t\t\t\t\t\tü§© –î–æ–±–∞–≤–∏—Ç—å ü§©\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</ModalBody>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tonChange = (e) => {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t};\n\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\t// get our form data out of state\n\t\tconst { url, phrase } = this.state;\n\n\t\tif (url.length === 0 || phrase.length === 0) {\n\t\t\tthis.setState({ errText: '–ù–∞–¥–æ –≤—Å–µ –∑–∞–ø–æ–ª–Ω–∏—Ç—å... üò°' });\n\t\t\tthis.setState({ err: this.state.errText });\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tawait API.post('/emoji', { url, phrase });\n\t\t\t\tthis.props.closeAddSticker();\n\n\t\t\t\tconst { history } = this.props;\n\t\t\t\thistory.push(`/login`);\n\t\t\t\thistory.push(`/chats/${this.props.chatId}`);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[DEBUG]: –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ /login');\n\t\t\t\tconsole.log(error.response);\n\t\t\t\tthis.setState({ err: this.state.errText });\n\t\t\t}\n\t\t}\n\t};\n\n\terrorHidClass(error) {\n\t\treturn error.length === 0 ? 'invisible' : 'visible';\n\t}\n}\n/*\n */\n"]},"metadata":{},"sourceType":"module"}