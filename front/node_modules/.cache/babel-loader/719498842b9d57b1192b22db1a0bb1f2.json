{"ast":null,"code":"var _jsxFileName = \"/home/znjuko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/rk2/bmstu_front/default-chat-golang/front/src/pages/Register.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Card } from 'shards-react';\nimport Input from '../mixins/input';\nimport Error from '../mixins/error';\nimport API from '../utils/API';\n\nclass Register extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n\n      if (e.target.name === 'passwordRepeat' && e.target.value !== this.state.password) {\n        console.log('Пароли должны совпадать!');\n        this.setState({\n          errText: 'Пароли должны совпадать!'\n        });\n        this.setState({\n          errSame: 'Пароли должны совпадать!'\n        });\n        this.setState({\n          buttonBlock: 'Пароли должны совпадать!'\n        });\n      } else if (e.target.name === 'passwordRepeat' && e.target.value === this.state.password) {\n        this.setState({\n          errSame: ''\n        });\n        this.setState({\n          buttonBlock: ''\n        });\n      }\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault(); // get our form data out of state\n\n      const {\n        login,\n        password,\n        passwordRepeat\n      } = this.state;\n\n      if (password === '' || passwordRepeat == '' || login == '') {\n        console.log('Заполните поля!');\n        this.setState({\n          errText: 'Заполните все поля!'\n        });\n        this.setState({\n          err: 'Заполните поля!'\n        });\n        this.setState({\n          errSame: 'Заполните поля!'\n        });\n      } else {\n        try {\n          await API.post('/registration', {\n            login,\n            password\n          });\n          const {\n            history\n          } = this.props;\n          history.push('/chats');\n        } catch (error) {\n          console.log('[DEBUG]: Ответ сервера на /registration');\n          console.log(error);\n          this.setState({\n            err: error\n          });\n          this.setState({\n            errText: 'Пользователь с таким login уже существует!'\n          });\n        }\n      }\n    };\n\n    this.state = {\n      login: '',\n      password: '',\n      passwordRepeat: '',\n      err: '',\n      errText: 'Error text',\n      errSame: '',\n      buttonBlock: ''\n    };\n  }\n\n  render() {\n    const {\n      isLoading\n    } = this.props;\n    const linkToChats = /*#__PURE__*/React.createElement(Link, {\n      to: \"/chats\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 23\n      }\n    }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\");\n    const userDetails = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid d-inline-flex flex-column justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-4 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 5\n      }\n    }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      icon: \"far fa-user\",\n      type: \"text\",\n      placeholder: \"Username\",\n      name: \"login\",\n      onChange: this.onChange,\n      className: `form-control ${this.errorClass(this.state.err)}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      icon: \"fas fa-key\",\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      onChange: this.onChange,\n      className: `form-control ${this.errorClass(this.state.errSame)}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      icon: \"fas fa-key\",\n      type: \"password\",\n      placeholder: \"Repeat password\",\n      name: \"passwordRepeat\",\n      onChange: this.onChange,\n      className: `form-control ${this.errorClass(this.state.errSame)}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(Error, {\n      err: this.state.errText,\n      className: `text-danger ${this.errorHidClass(this.state.err, this.state.errSame)}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid d-inline-flex justify-content-center ml-1 mr-1 mb-2 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"login\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-outline-info mr-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 8\n      }\n    }, \"\\u0423\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442?\")), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: this.state.buttonBlock,\n      type: \"submit\",\n      className: \"btn btn-primary d-inline-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"))));\n    const loadingMessage = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-flex m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 4\n      }\n    }, \"Loading...\");\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"mx-auto m-5 text-center p-5 align-middle\",\n      style: {\n        minWidth: '600px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 4\n      }\n    }, isLoading ? loadingMessage : userDetails);\n  }\n\n  errorClass(error) {\n    return error.length === 0 ? '' : 'border border-danger';\n  }\n\n  errorHidClass(errorOne, errorTwo) {\n    return errorOne.length === 0 && errorTwo.length === 0 ? 'invisible' : 'visible';\n  }\n\n}\n\nRegister.propTypes = {\n  isLoading: PropTypes.bool,\n  login: PropTypes.string,\n  password: PropTypes.string,\n  passwordRepeat: PropTypes.string\n};\nexport default Register;","map":{"version":3,"sources":["/home/znjuko/Рабочий стол/rk2/bmstu_front/default-chat-golang/front/src/pages/Register.js"],"names":["React","PropTypes","Link","Card","Input","Error","API","Register","Component","constructor","onChange","e","setState","target","name","value","state","password","console","log","errText","errSame","buttonBlock","handleSubmit","event","preventDefault","login","passwordRepeat","err","post","history","props","push","error","render","isLoading","linkToChats","userDetails","errorClass","errorHidClass","loadingMessage","minWidth","length","errorOne","errorTwo","propTypes","bool","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Link } from 'react-router-dom';\n\nimport { Card } from 'shards-react';\nimport Input from '../mixins/input';\nimport Error from '../mixins/error';\n\nimport API from '../utils/API';\n\nclass Register extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tlogin: '',\n\t\t\tpassword: '',\n\t\t\tpasswordRepeat: '',\n\t\t\terr: '',\n\t\t\terrText: 'Error text',\n\t\t\terrSame: '',\n\t\t\tbuttonBlock: '',\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { isLoading } = this.props;\n\n\t\tconst linkToChats = <Link to='/chats'>Регистрация</Link>;\n\n\t\tconst userDetails = (\n\t\t\t<div className='container-fluid d-inline-flex flex-column justify-content-center'>\n\t\t\t\t<h1 className='display-4 mb-4'>Регистрация</h1>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<Input\n\t\t\t\t\t\ticon='far fa-user'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder='Username'\n\t\t\t\t\t\tname='login'\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\tclassName={`form-control ${this.errorClass(\n\t\t\t\t\t\t\tthis.state.err,\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t/>\n\t\t\t\t\t<Input\n\t\t\t\t\t\ticon='fas fa-key'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\tclassName={`form-control ${this.errorClass(\n\t\t\t\t\t\t\tthis.state.errSame,\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t/>\n\t\t\t\t\t<Input\n\t\t\t\t\t\ticon='fas fa-key'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tplaceholder='Repeat password'\n\t\t\t\t\t\tname='passwordRepeat'\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\tclassName={`form-control ${this.errorClass(\n\t\t\t\t\t\t\tthis.state.errSame,\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Error\n\t\t\t\t\t\terr={this.state.errText}\n\t\t\t\t\t\tclassName={`text-danger ${this.errorHidClass(\n\t\t\t\t\t\t\tthis.state.err,\n\t\t\t\t\t\t\tthis.state.errSame,\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className='container-fluid d-inline-flex justify-content-center ml-1 mr-1 mb-2 '>\n\t\t\t\t\t\t<Link to='login' activeClassName='active'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclass='btn btn-outline-info mr-4'>\n\t\t\t\t\t\t\t\tУже есть аккаунт?\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tdisabled={this.state.buttonBlock}\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tclassName='btn btn-primary d-inline-flex justify-content-center'>\n\t\t\t\t\t\t\tЗарегистрироваться\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\n\t\tconst loadingMessage = (\n\t\t\t<span className='d-flex m-auto'>Loading...</span>\n\t\t);\n\n\t\treturn (\n\t\t\t<Card\n\t\t\t\tclassName='mx-auto m-5 text-center p-5 align-middle'\n\t\t\t\tstyle={{ minWidth: '600px' }}>\n\t\t\t\t{isLoading ? loadingMessage : userDetails}\n\t\t\t</Card>\n\t\t);\n\t}\n\n\tonChange = (e) => {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t\tif (\n\t\t\te.target.name === 'passwordRepeat' &&\n\t\t\te.target.value !== this.state.password\n\t\t) {\n\t\t\tconsole.log('Пароли должны совпадать!');\n\t\t\tthis.setState({ errText: 'Пароли должны совпадать!' });\n\t\t\tthis.setState({ errSame: 'Пароли должны совпадать!' });\n\t\t\tthis.setState({ buttonBlock: 'Пароли должны совпадать!' });\n\t\t} else if (\n\t\t\te.target.name === 'passwordRepeat' &&\n\t\t\te.target.value === this.state.password\n\t\t) {\n\t\t\tthis.setState({ errSame: '' });\n\t\t\tthis.setState({ buttonBlock: '' });\n\t\t}\n\t};\n\n\thandleSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\t// get our form data out of state\n\t\tconst { login, password, passwordRepeat } = this.state;\n\n\t\tif (password === '' || passwordRepeat == '' || login == '') {\n\t\t\tconsole.log('Заполните поля!');\n\t\t\tthis.setState({ errText: 'Заполните все поля!' });\n\t\t\tthis.setState({ err: 'Заполните поля!' });\n\t\t\tthis.setState({ errSame: 'Заполните поля!' });\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tawait API.post('/registration', { login, password });\n\t\t\t\tconst { history } = this.props;\n\t\t\t\thistory.push('/chats');\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('[DEBUG]: Ответ сервера на /registration');\n\t\t\t\tconsole.log(error);\n\t\t\t\tthis.setState({ err: error });\n\t\t\t\tthis.setState({\n\t\t\t\t\terrText: 'Пользователь с таким login уже существует!',\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\terrorClass(error) {\n\t\treturn error.length === 0 ? '' : 'border border-danger';\n\t}\n\terrorHidClass(errorOne, errorTwo) {\n\t\treturn errorOne.length === 0 && errorTwo.length === 0\n\t\t\t? 'invisible'\n\t\t\t: 'visible';\n\t}\n}\n\nRegister.propTypes = {\n\tisLoading: PropTypes.bool,\n\tlogin: PropTypes.string,\n\tpassword: PropTypes.string,\n\tpasswordRepeat: PropTypes.string,\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}